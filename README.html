<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drive Power Management Script</title>
</head>
<body>
    <h1>üñ•Ô∏è Drive Power Management Script</h1>

    <p>This script automates hard drive power management on Linux-based systems (e.g., Raspberry Pi) by configuring drives to spin down when inactive, thereby extending drive lifespan.</p>

    <h2>üìã Features</h2>
    <ul>
        <li><strong>Drive Detection</strong>: Automatically detects connected drives and prompts the user for selection.</li>
        <li><strong>Power Management Configuration</strong>:
            <ul>
                <li>Installs and configures <code>hdparm</code>, <code>hd-idle</code>, or <code>sdparm</code> for automatic spin-down.</li>
            </ul>
        </li>
        <li><strong>System State Tracking</strong>: Captures the initial and final states of drives to verify configuration success.</li>
        <li><strong>Rollback on Failure</strong>: Cleans up by uninstalling packages if configuration fails.</li>
        <li><strong>Verification Tests</strong>: Ensures configurations are applied and provides a detailed summary.</li>
    </ul>

    <h2>‚öôÔ∏è Prerequisites</h2>
    <ul>
        <li><strong>Root Access</strong>: Run the script with root privileges.</li>
        <li><strong>Internet Connection</strong>: Required to install missing packages.</li>
    </ul>

    <h2>üöÄ Usage</h2>
    <ol>
        <li><strong>Download the Script</strong>: Save the script to your desired location.</li>
        <li><strong>Make the Script Executable</strong>:
            <pre><code>chmod +x drive_manager.sh</code></pre>
        </li>
        <li><strong>Run the Script with Root Privileges</strong>:
            <pre><code>sudo ./drive_manager.sh</code></pre>
        </li>
    </ol>

    <h2>üõ†Ô∏è Configuration Steps</h2>
    <ol>
        <li><strong>Update Repositories</strong>: Ensures the latest package versions.</li>
        <li><strong>Drive Detection and Selection</strong>: Detects drives and prompts the user for selection.</li>
        <li><strong>Install and Configure <code>hdparm</code></strong>:
            <ul>
                <li>Installs and configures <code>hdparm</code> for standby, spindown, and cache settings. Fallback to <code>hd-idle</code> if incompatible.</li>
            </ul>
        </li>
        <li><strong>Install and Configure <code>hd-idle</code></strong>: Removes <code>hdparm</code> if installed by the script, then configures <code>hd-idle</code>.</li>
        <li><strong>Install and Configure <code>sdparm</code></strong>: Uses <code>sdparm</code> as a last resort for spin-down configuration.</li>
        <li><strong>Verification and Summary</strong>: Verifies configurations and provides a summary with pre- and post-execution states.</li>
    </ol>

    <h2>üîß Customization</h2>
    <ul>
        <li><strong>Spin-down Time</strong>: Customize spin-down times in the script functions.</li>
        <li><strong>Drive Selection</strong>: Modify drive detection if using non-standard paths.</li>
    </ul>

    <h2>üìú License</h2>
    <p>This script is free for personal and commercial use, modification, and redistribution.</p>

    <h2>‚ù§Ô∏è Support</h2>
    <p>If you found this project helpful, consider donating via PayPal: <a href="mailto:gopalasubramanium@gmail.com">gopalasubramanium@gmail.com</a>. Thank you for your support!</p>
</body>
</html>
